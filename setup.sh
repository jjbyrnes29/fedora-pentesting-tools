#!/bin/bash
version=1.0.2
Todo: Rebuild UI Canonical/using Dialog
TOINSTS=""
while :
do
  ping -q -c 1 "$(ip r | grep default | cut -d ' ' -f 3)" > /dev/null && cont=true || cont=false
  if [ "$cont" = false ]; then
    echo "Internet Access is required to run this update script"
    exit 1
  fi
  newver=$(curl -s https://raw.githubusercontent.com/jjbyrnes29/fedora-pentesting-tools/main/setup.sh | grep "version=" | head -1)
  if ! [ "$newver" = "version=$version" ]; then
    echo "Script is Outdated!"
    exit 1
  fi
  while :
  do
    clear
    echo "NOTICE:"
    echo "This script installs pentesting tools for Fedora Linux."
    echo "If you need drivers for things like hashcracking, this script does not cover them."
    echo
    echo "Enabled Script Options are tiered, in a commented list."
    echo "Options Enabled: $TOINSTS"
    echo
    echo "[ 00 ] Update System"
    echo "[ 01 ] Blue Team Tools"
    echo "[ 02 ] Privacy Tools"
    echo "[ 03 ] Pentesting Frameworks"
    echo "[ 04 ] Recon Tools"
    echo "[ 05 ] 802.11 Pentesting Tools"
    echo "[ 06 ] Injections/Escalations"
    echo "[ 07 ] Social Engineering Tools / Stenography"
    echo "[ 08 ] Reverse Engineering Tools"
    echo "[ 09 ] Password Cracking Tools"
    echo "[ 10 ] Wordlists"
    echo
    echo "[ A ]  Install All Packages (Overrides Options)"
    echo "[ C ]  Clear Options"
    echo "[ L ]  List Modules (Selectively Enable Installs)"
    echo "[ W ]  Write Changes"
    echo "[ Q ]  Quit without applying changes"
    echo
    read -p "Please Select An Option: " switch
    case $switch in
      "0" | "00")
        sudo dnf upgrade -y
        break
      ;;
      "1" | "01")
        if ! [[ $TOINSTS = *"11,12,13,14,15,"* ]]; then
          TOINSTS+="11,12,13,14,15,"
        fi
        break
      ;;
      "2" | "02")
        if ! [[ $TOINSTS = *"21,22,23,24,25,26,"* ]]; then
          TOINSTS+="21,22,23,24,25,26,"
        fi
        break
      ;;
      "3" | "03")
        if ! [[ $TOINSTS = *"31,32,33,"* ]]; then
          TOINSTS+="31,32,33,"
        fi
        break
      ;;
      "4" | "04")
        if ! [[ $TOINSTS = *"41,42,43,44,45,46,47,48,49,"* ]]; then
          TOINSTS+="41,42,43,44,45,46,47,48,49,"
        fi
        break
      ;;
      "5" | "05")
        if ! [[ $TOINSTS = *"51,52,53,54,55,56,57,58,"* ]]; then
          TOINSTS+="51,52,53,54,55,56,57,58,"
        fi
        break
      ;;
      "6" | "06")
        if ! [[ $TOINSTS = *"61,62,63,64,65,"* ]]; then
          TOINSTS+="61,62,63,64,65,"
        fi
        break
      ;;
      "7" | "07")
        if ! [[ $TOINSTS = *"71,72,73,74,75,76,77,"* ]]; then
          TOINSTS+="71,72,73,74,75,76,77,"
        fi
        break
      ;;
      "8" | "08")
        if ! [[ $TOINSTS = *"81,82,83,84,85,86,"* ]]; then
          TOINSTS+="81,82,83,84,85,86,"
        fi
        break
      ;;
      "9" | "09")
        if ! [[ $TOINSTS = *"91,92,"* ]]; then
          TOINSTS+="91,92,"
        fi
        break
      ;;
      "10")
        if ! [[ $TOINSTS = *"101,102,"* ]]; then
          TOINSTS+="101,102,103,"
        fi
        break
      ;;
      "a"|"A")
        TOINSTS="0,"
        break
      ;;
      "c"|"C")
        TOINSTS=""
        break
      ;;
      "l"|"L")
        while :
        do
          clear
          echo 
          echo "Please Select A Module To Post Info About:"
          echo "[ 01 ] Blue Team Tools"
          echo "[ 02 ] Privacy Tools"
          echo "[ 03 ] Pentesting Frameworks"
          echo "[ 04 ] Recon Tools"
          echo "[ 05 ] 802.11 Pentesting Tools"
          echo "[ 06 ] Injections/Escalations"
          echo "[ 07 ] Social Engineering Tools / Stenography"
          echo "[ 08 ] Reverse Engineering Tools"
          echo "[ 09 ] Password Cracking Tools"
          echo "[ 10 ] Wordlists"
          echo 
          read -p "Please Select A Module To List Tools: " selector
          case $selector in
            1|01)
              clear
              echo
              echo "Blue Team Tools"
              echo
              echo "[ 01 ] Fail2Ban"
              echo "[ 02 ] ChkRootKit"
              echo "[ 03 ] Rkhunter"
              echo "[ 04 ] ClamAV"
              echo "[ 05 ] KeePassXC"
              echo
              echo "Do you want to install a tool individually?"
              read -p "(Y/N): " input
              case $input in
                "y"|"Y")
                  read -p "Which Tool? :" tool
                  case $tool in
                    1 | 01)
                      if ! [[ $TOINSTS = *"11,"* ]]; then
                        TOINSTS+="11,"
                      fi
                    ;;
                    2 | 02)
                      if ! [[ $TOINSTS = *"12,"* ]]; then
                        TOINSTS+="12,"
                      fi
                    ;;
                    3 | 03)
                      if ! [[ $TOINSTS = *"13,"* ]]; then
                        TOINSTS+="13,"
                      fi
                    ;;
                    4 | 04)
                      if ! [[ $TOINSTS = *"14,"* ]]; then
                        TOINSTS+="14,"
                      fi
                    ;;
                    5 | 05)
                      if ! [[ $TOINSTS = *"15,"* ]]; then
                        TOINSTS+="15,"
                      fi
                    ;;
                  esac
                ;;
              esac
              break
            ;;
            2 | 02)
              clear
              echo
              echo "Privacy Tools"
              echo
              echo "[ 01 ] ProxyChains4"
              echo "[ 02 ] TOR"
              echo "[ 03 ] TOR Browser"
              echo "[ 04 ] MacChanger"
              echo "[ 05 ] Ligolo-ng"
              echo "[ 06 ] Wireguard"
              echo
              echo "Do you want to install a tool individually?"
              read -p "(Y/N): " input
              case $input in
                "y"|"Y")
                  read -p "Which Tool? :" tool
                  case $tool in
                    1 | 01)
                      if ! [[ $TOINSTS = *"21,"* ]]; then
                        TOINSTS+="21,"
                      fi
                    ;;
                    2 | 02)
                      if ! [[ $TOINSTS = *"22,"* ]]; then
                        TOINSTS+="22,"
                      fi
                    ;;
                    3 | 03)
                      if ! [[ $TOINSTS = *"23,"* ]]; then
                        TOINSTS+="23,"
                      fi
                    ;;
                    4 | 04)
                      if ! [[ $TOINSTS = *"24,"* ]]; then
                        TOINSTS+="24,"
                      fi
                    ;;
                    5 | 05)
                      if ! [[ $TOINSTS = *"25,"* ]]; then
                        TOINSTS+="25,"
                      fi
                    ;;
                    6 | 06)
                      if ! [[ $TOINSTS = *"26,"* ]]; then
                        TOINSTS+="26,"
                      fi
                    ;;
                  esac
                ;;
              esac
              break
            ;;
            3 | 03)
              clear
              echo
              echo "Pentesting Frameworks"
              echo 
              echo "[ 01 ] MetaSploit"
              echo "[ 02 ] RouterSploit"
              echo "[ 03 ] ExploitDB / Searchsploit"
              echo
              echo "Do you want to install a tool individually?"
              read -p "(Y/N): " input
              case $input in
                "y"|"Y")
                  read -p "Which Tool? :" tool
                  case $tool in
                    1 | 01)
                      if ! [[ $TOINSTS = *"31,"* ]]; then
                        TOINSTS+="31,"
                      fi
                    ;;
                    2 | 02)
                      if ! [[ $TOINSTS = *"32,"* ]]; then
                        TOINSTS+="32,"
                      fi
                    ;;
                    3 | 03)
                      if ! [[ $TOINSTS = *"33,"* ]]; then
                        TOINSTS+="33,"
                      fi
                    ;;
                  esac
                ;;
              esac
              break
            ;;
            4 | 04)
              clear
              echo
              echo "Recon Tools"
              echo
              echo "[ 01 ] NMap"
              echo "[ 02 ] WireShark"
              echo "[ 03 ] DirSearch"
              echo "[ 04 ] GoBuster"
              echo "[ 05 ] AutoRecon"
              echo "[ 06 ] WhatWeb"
              echo "[ 07 ] FeroxBuster"
              echo "[ 08 ] DnsRecon"
              echo "[ 09 ] Nikto"
              echo
              echo "Do you want to install a tool individually?"
              read -p "(Y/N): " input
              case $input in
                "y"|"Y")
                  read -p "Which Tool? :" tool
                  case $tool in
                    1 | 01)
                      if ! [[ $TOINSTS = *"41,"* ]]; then
                        TOINSTS+="41,"
                      fi
                    ;;
                    2 | 02)
                      if ! [[ $TOINSTS = *"42,"* ]]; then
                        TOINSTS+="42,"
                      fi
                    ;;
                    3 | 03)
                      if ! [[ $TOINSTS = *"43,"* ]]; then
                        TOINSTS+="43,"
                      fi
                    ;;
                    4 | 04)
                      if ! [[ $TOINSTS = *"44,"* ]]; then
                        TOINSTS+="44,"
                      fi
                    ;;
                    5 | 05)
                      if ! [[ $TOINSTS = *"45,"* ]]; then
                        TOINSTS+="45,"
                      fi
                    ;;
                    6 | 06)
                      if ! [[ $TOINSTS = *"46,"* ]]; then
                        TOINSTS+="46,"
                      fi
                    ;;
                    7 | 07)
                      if ! [[ $TOINSTS = *"47,"* ]]; then
                        TOINSTS+="47,"
                      fi
                    ;;
                    8 | 08)
                      if ! [[ $TOINSTS = *"48,"* ]]; then
                        TOINSTS+="48,"
                      fi
                    ;;
                    9 | 09)
                      if ! [[ $TOINSTS = *"49,"* ]]; then
                        TOINSTS+="49,"
                      fi
                    ;;
                  esac
                ;;
              esac
              break
            ;;
            5 | 05)
              clear
              echo
              echo "802.11 Pentesting Tools"
              echo
              echo "[ 01 ] WireShark"
              echo "[ 02 ] AirCrack-ng Suite"
              echo "[ 03 ] HCXTools Suite"
              echo "[ 04 ] MDK4"
              echo "[ 05 ] BetterCap"
              echo "[ 06 ] Scapy"
              echo "[ 07 ] DSniff"
              echo "[ 08 ] Arp-Scan"
              echo
              echo "Do you want to install a tool individually?"
              read -p "(Y/N): " input
              case $input in
                "y"|"Y")
                  read -p "Which Tool? :" tool
                  case $tool in
                    1 | 01)
                      if ! [[ $TOINSTS = *"51,"* ]]; then
                        TOINSTS+="51,"
                      fi
                    ;;
                    2 | 02)
                      if ! [[ $TOINSTS = *"52,"* ]]; then
                        TOINSTS+="52,"
                      fi
                    ;;
                    3 | 03)
                      if ! [[ $TOINSTS = *"53,"* ]]; then
                        TOINSTS+="53,"
                      fi
                    ;;
                    4 | 04)
                      if ! [[ $TOINSTS = *"54,"* ]]; then
                        TOINSTS+="54,"
                      fi
                    ;;
                    5 | 05)
                      if ! [[ $TOINSTS = *"55,"* ]]; then
                        TOINSTS+="55,"
                      fi
                    ;;
                    6 | 06)
                      if ! [[ $TOINSTS = *"56,"* ]]; then
                        TOINSTS+="56,"
                      fi
                    ;;
                    7 | 07)
                      if ! [[ $TOINSTS = *"57,"* ]]; then
                        TOINSTS+="57,"
                      fi
                    ;;
                    8 | 08)
                      if ! [[ $TOINSTS = *"58,"* ]]; then
                        TOINSTS+="58,"
                      fi
                    ;;
                  esac
                ;;
              esac
              break
            ;;
            6 | 06)
              clear
              echo
              echo "Injections/Escalations"
              echo
              echo "[ 01 ] WebShells"
              echo "[ 02 ] Neo-reGeorge Tunnels"
              echo "[ 03 ] Mimikatz"
              echo "[ 04 ] PEASS-ng Scripts"
              echo "[ 05 ] Responder"
              echo
              echo "Do you want to install a tool individually?"
              read -p "(Y/N): " input
              case $input in
                "y"|"Y")
                  read -p "Which Tool? :" tool
	          case $tool in
                    1 | 01)
                      if ! [[ $TOINSTS = *"61,"* ]]; then
                        TOINSTS+="61,"
                      fi
                    ;;
                    2 | 02)
                      if ! [[ $TOINSTS = *"62,"* ]]; then
                        TOINSTS+="62,"
                      fi
                    ;;
                    3 | 03)
                      if ! [[ $TOINSTS = *"63,"* ]]; then
                        TOINSTS+="63,"
                      fi
                    ;;
                    4 | 04)
                      if ! [[ $TOINSTS = *"64,"* ]]; then
                        TOINSTS+="64,"
                      fi
                    ;;
                    5 | 05)
                      if ! [[ $TOINSTS = *"65,"* ]]; then
                        TOINSTS+="65,"
                      fi
                    ;;
                  esac
                ;;
              esac
              break
            ;;
            7 | 07)
              clear
              echo
              echo "Social Engineering Tools / Stenography"
              echo
              echo "[ 01 ] StegSeek"
              echo "[ 02 ] ZBarImg"
              echo "[ 03 ] QREncode"
              echo "[ 04 ] Social Engineering Toolkit"
              echo "[ 05 ] Morse2Ascii"
              echo "[ 06 ] TheHarvester"
              echo "[ 07 ] CyberChef"
              echo
              echo "Do you want to install a tool individually?"
              read -p "(Y/N): " input
              case $input in
                "y"|"Y")
                read -p "Which Tool? :" tool
                case $tool in
                  1 | 01)
                    if ! [[ $TOINSTS = *"71,"* ]]; then
                      TOINSTS+="71,"
                    fi
                  ;;
                  2 | 02)
                    if ! [[ $TOINSTS = *"72,"* ]]; then
                      TOINSTS+="72,"
                    fi
                  ;;
                  3 | 03)
                    if ! [[ $TOINSTS = *"73,"* ]]; then
                      TOINSTS+="73,"
                    fi
                  ;;
                  4 | 04)
                    if ! [[ $TOINSTS = *"74,"* ]]; then
                      TOINSTS+="74,"
                    fi
                  ;;
                  5 | 05)
                    if ! [[ $TOINSTS = *"75,"* ]]; then
                     TOINSTS+="75,"
                    fi
                  ;;
                  6 | 06)
                    if ! [[ $TOINSTS = *"76,"* ]]; then
                     TOINSTS+="76,"
                    fi
                  ;;
                  7 | 07)
                    if ! [[ $TOINSTS = *"77,"* ]]; then
                     TOINSTS+="77,"
                    fi
                  ;;
                esac
                ;;
              esac
              break
            ;;
            8 | 08)
              clear
              echo
              echo "Reverse Engineering Tools"
              echo
              echo "[ 01 ] LevelDBDumper"
              echo "[ 02 ] Ghidra"
              echo "[ 03 ] SqliteBrowser"
              echo "[ 04 ] BinWalk"
              echo "[ 05 ] SqlMap"
              echo "[ 06 ] SqlNinja"
              echo
              echo "Do you want to install a tool individually?"
              read -p "(Y/N): " input
              case $input in
                "y"|"Y")
                read -p "Which Tool? :" tool
                case $tool in
                  1 | 01)
                    if ! [[ $TOINSTS = *"81,"* ]]; then
                      TOINSTS+="81,"
                    fi
                  ;;
                  2 | 02)
                    if ! [[ $TOINSTS = *"82,"* ]]; then
                      TOINSTS+="82,"
                    fi
                  ;;
                  3 | 03)
                    if ! [[ $TOINSTS = *"83,"* ]]; then
                      TOINSTS+="83,"
                    fi
                  ;;
                  4 | 04)
                    if ! [[ $TOINSTS = *"84,"* ]]; then
                      TOINSTS+="84,"
                    fi
                  ;;
                  5 | 05)
                    if ! [[ $TOINSTS = *"85,"* ]]; then
                      TOINSTS+="85,"
                    fi
                  ;;
                  6 | 06)
                    if ! [[ $TOINSTS = *"86,"* ]]; then
                      TOINSTS+="86,"
                    fi
                  ;;
                esac
                ;;
              esac
              break
            ;;
            9 | 09)
              clear
              echo
              echo "Password Cracking Tools"
              echo
              echo "[ 01 ] HashCat"
              echo "[ 02 ] John"
              echo
              echo "Do you want to install a tool individually?"
              read -p "(Y/N): " input
              case $input in
                "y"|"Y")
                  read -p "Which Tool? :" tool
                  case $tool in
                    1 | 01)
                      if ! [[ $TOINSTS = *"91,"* ]]; then
                        TOINSTS+="91,"
                      fi
                    ;;
                    2 | 02)
                      if ! [[ $TOINSTS = *"92,"* ]]; then
                        TOINSTS+="92,"
                      fi
                  ;;
                esac
                ;;
              esac
              break
            ;;
            10)
              echo
              echo
              echo "Wordlists"
              echo
              echo "[ 01 ] SecList Wordlists"
              echo "[ 02 ] Crunch"
              echo "[ 03 ] Adj Noun Wordlist Generator"
              echo
              echo "Do you want to install a tool individually?"
              read -p "(Y/N): " input
              case $input in
                "y"|"Y")
                  read -p "Which Tool? :" tool
                  case $tool in
                    1 | 01)
                      if ! [[ $TOINSTS = *"101,"* ]]; then
                        TOINSTS+="101,"
                      fi
                    ;;
                    2 | 02)
                      if ! [[ $TOINSTS = *"102,"* ]]; then
                        TOINSTS+="102,"
                      fi
                    ;;
                    3 | 03)
                      if ! [[ $TOINSTS = *"103,"* ]]; then
                        TOINSTS+="103,"
                      fi
                    ;;
                  esac
                ;;
              esac
              break
            ;;
          esac
          done
      ;;
      "w" | "W")
        clear
        if [[ -z $TOINSTS ]]; then
          echo "No Options Enabled!"
          exit 1
        fi
        wget https://raw.githubusercontent.com/jjbyrnes29/fedora-pentesting-tools/main/installer.sh
	chmod +x installer.sh
        ./installer.sh $TOINSTS
	rm installer.sh
        clear
        break 2
      ;;
      "q" | "Q")
         clear
         break 2
       ;;
    esac
  done
done
exit 0
